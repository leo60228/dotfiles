{ makeRustPlatform, fetchFromGitHub, stdenv, callPackage, pkgconfig, openssl }:
let rust = (callPackage ./rust.nix {}).channel.rust;
    nightlyRustPlatform = makeRustPlatform { cargo = rust; rustc = rust; }; in
nightlyRustPlatform.buildRustPackage rec {
    pname = "upd8r";
    version = "0.1.0";

    src = fetchFromGitHub {
        owner = "leo60228";
        repo = pname;
        rev = "39ed5b9d69c39795282cab0280ba53d30bdedf77";
        sha256 = "0417g6bgn7kcbbwbx7b76dqmq97g7hqihyb35k8ajm9x6kk3xigx";
    };

    nativeBuildInputs = [ pkgconfig ];
    buildInputs = [ openssl ];

    cargoSha256 = "0jciim3cczpbrsfk41agw5l1x7nakfj12lq7rfmh759szx6csdyc";
    verifyCargoDeps = true;

    OPENSSL_NO_VENDOR = "1";
}

